<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>3D file formats</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">The-great-game</span> <span class="project-version">0.1.3</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1"><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1  current"><a href="3D-formats.html"><div class="inner"><span>3D file formats</span></div></a></li><li class="depth-1"><a href="A-generic-planning-algorithm-for-craftworker-npcs.html"><div class="inner"><span>A Generic Planning Algorithm for craftworker NPCs</span></div></a></li><li class="depth-1"><a href="API_Spec.html"><div class="inner"><span>API Spec (unfinished)</span></div></a></li><li class="depth-1"><a href="Appraisal.html"><div class="inner"><span>Appraisal (unfinished)</span></div></a></li><li class="depth-1"><a href="Architecture.html"><div class="inner"><span>Architecture</span></div></a></li><li class="depth-1"><a href="Baking-the-world.html"><div class="inner"><span>Baking the world</span></div></a></li><li class="depth-1"><a href="Building_on_microworld.html"><div class="inner"><span>Building on Microworld</span></div></a></li><li class="depth-1"><a href="Canonical-dictionary.html"><div class="inner"><span>Canonical dictionary for this documentation</span></div></a></li><li class="depth-1"><a href="Division_of_tasks_between_server_and_client.html"><div class="inner"><span>Division of tasks between server and client (unfinished)</span></div></a></li><li class="depth-1"><a href="Draft-algorithm-functional-physics-engine.html"><div class="inner"><span>Sketch for an algorithm for a pure-functional physics engine</span></div></a></li><li class="depth-1"><a href="Dynamic-consequences.html"><div class="inner"><span>On the consequences of a dynamic game environment for storytelling</span></div></a></li><li class="depth-1"><a href="Economy.html"><div class="inner"><span>Game world economy (unfinished)</span></div></a></li><li class="depth-1"><a href="Further-reading.html"><div class="inner"><span>Further Reading (and watching)</span></div></a></li><li class="depth-1"><a href="Game_Play.html"><div class="inner"><span>Game Play (unfinished)</span></div></a></li><li class="depth-1"><a href="Genetic-buildings.html"><div class="inner"><span>Genetic Buildings</span></div></a></li><li class="depth-1"><a href="Gossip_scripted_plot_and_Johnny_Silverhand.html"><div class="inner"><span>Gossip, scripted plot, and Johnny Silverhand</span></div></a></li><li class="depth-1"><a href="MVP-Roadmap.html"><div class="inner"><span>Minimum Viable Product, and a road map</span></div></a></li><li class="depth-1"><a href="Modelling_trading_cost_and_risk.html"><div class="inner"><span>Modelling trading cost and risk (unfinished)</span></div></a></li><li class="depth-1"><a href="Naming-of-characters.html"><div class="inner"><span>Naming of Characters</span></div></a></li><li class="depth-1"><a href="Not_my_problem.html"><div class="inner"><span>Not my problem</span></div></a></li><li class="depth-1"><a href="On-dying.html"><div class="inner"><span>On Dying, and Injury</span></div></a></li><li class="depth-1"><a href="On-sex-and-sexual-violence.html"><div class="inner"><span>On Sex, and Sexual Violence, in Games</span></div></a></li><li class="depth-1"><a href="Organic_Quests.html"><div class="inner"><span>Organic Quests</span></div></a></li><li class="depth-1"><a href="Pathmaking.html"><div class="inner"><span>Pathmaking</span></div></a></li><li class="depth-1"><a href="Populating-a-game-world.html"><div class="inner"><span>Populating a game world</span></div></a></li><li class="depth-1"><a href="Pseudo-object-inheritance.html"><div class="inner"><span>Pseudo object inheritance</span></div></a></li><li class="depth-1"><a href="Roadmap.html"><div class="inner"><span>Roadmap (obsolete)</span></div></a></li><li class="depth-1"><a href="Sandbox.html"><div class="inner"><span>Sandbox</span></div></a></li><li class="depth-1"><a href="Selecting_Character.html"><div class="inner"><span>Selecting the Player Character</span></div></a></li><li class="depth-1"><a href="Settling-a-game-world.html"><div class="inner"><span>Settling a game world</span></div></a></li><li class="depth-1"><a href="Sexual-dimorphism.html"><div class="inner"><span>Sexual dimorphism</span></div></a></li><li class="depth-1"><a href="Simulated-genetics.html"><div class="inner"><span>Simulated Genetics</span></div></a></li><li class="depth-1"><a href="Simulation-layers.html"><div class="inner"><span>Simulation layers</span></div></a></li><li class="depth-1"><a href="The-spread-of-knowledge-in-a-large-game-world.html"><div class="inner"><span>The spread of knowledge in a large game world</span></div></a></li><li class="depth-1"><a href="Things_Voice_Interaction_Enables.html"><div class="inner"><span>Things Voice Interaction Enables</span></div></a></li><li class="depth-1"><a href="Towards-a-procedural-animation-api.html"><div class="inner"><span>Towards a procedural animation API</span></div></a></li><li class="depth-1"><a href="Tree-library-evaluation.html"><div class="inner"><span>Tree library evaluation</span></div></a></li><li class="depth-1"><a href="Uncanny_dialogue.html"><div class="inner"><span>The Uncanny Valley, and dynamically generated dialogue</span></div></a></li><li class="depth-1"><a href="Useful-software-libraries.html"><div class="inner"><span>Useful software tools and libraries (open source)</span></div></a></li><li class="depth-1"><a href="Voice-acting-considered-harmful.html"><div class="inner"><span>Voice acting considered harmful</span></div></a></li><li class="depth-1"><a href="Worlds-and-flats.html"><div class="inner"><span>Worlds and flats [obsolete]</span></div></a></li><li class="depth-1"><a href="intro.html"><div class="inner"><span>Introduction to the-great-game</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cc</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>journeyman</span></div></div></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>the-great-game</span></div></div></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>agent</span></div></div></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.agent.agent.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>agent</span></div></a></li><li class="depth-5"><a href="cc.journeyman.the-great-game.agent.schedule.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schedule</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>buildings</span></div></div></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.buildings.module.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>module</span></div></a></li><li class="depth-5"><a href="cc.journeyman.the-great-game.buildings.rectangular.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rectangular</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>character</span></div></div></li><li class="depth-5"><a href="cc.journeyman.the-great-game.character.sex.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sex</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>gossip</span></div></div></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.gossip.gossip.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>gossip</span></div></a></li><li class="depth-5"><a href="cc.journeyman.the-great-game.gossip.news-items.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>news-items</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>holdings</span></div></div></li><li class="depth-5"><a href="cc.journeyman.the-great-game.holdings.holding.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>holding</span></div></a></li><li class="depth-4 branch"><a href="cc.journeyman.the-great-game.launcher.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>launcher</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>location</span></div></div></li><li class="depth-5"><a href="cc.journeyman.the-great-game.location.location.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>location</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>lore</span></div></div></li><li class="depth-5"><a href="cc.journeyman.the-great-game.lore.digester.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>digester</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>merchants</span></div></div></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.merchants.markets.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>markets</span></div></a></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.merchants.merchant-utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>merchant-utils</span></div></a></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.merchants.merchants.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>merchants</span></div></a></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.merchants.planning.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>planning</span></div></a></li><li class="depth-5"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>strategies</span></div></div></li><li class="depth-6"><a href="cc.journeyman.the-great-game.merchants.strategies.simple.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>simple</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>objects</span></div></div></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.objects.character.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>character</span></div></a></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.objects.container.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>container</span></div></a></li><li class="depth-5"><a href="cc.journeyman.the-great-game.objects.game-object.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>game-object</span></div></a></li><li class="depth-4 branch"><a href="cc.journeyman.the-great-game.playroom.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>playroom</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>proving</span></div></div></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.proving.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-5"><a href="cc.journeyman.the-great-game.proving.sketches.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sketches</span></div></a></li><li class="depth-4 branch"><a href="cc.journeyman.the-great-game.time.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>time</span></div></a></li><li class="depth-4 branch"><a href="cc.journeyman.the-great-game.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>world</span></div></div></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.world.heightmap.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>heightmap</span></div></a></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.world.location.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>location</span></div></a></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.world.mw.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mw</span></div></a></li><li class="depth-5 branch"><a href="cc.journeyman.the-great-game.world.routes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>routes</span></div></a></li><li class="depth-5"><a href="cc.journeyman.the-great-game.world.world.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>world</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><h1><a href="#3d-file-formats" id="3d-file-formats"></a>3D file formats</h1>
<p>I’m going to be doing a lot with programatically manipulated models. Therefore there’s a benefit to me in using a file format which is human-readable, and also easily parsed. Compactness is also a virtue, but it’s a virtue I can achieve by compressing human readable files, I think.</p>
<p>Loading time is an issue, but I will be loading relatively few models and manipulating them in memory to produce large numbers of variants, rather than loading a new model for every asset I wish to place. So both from the point of view of total disk space and from the point of view of performance, I think that formats which are optimised more towards my needs as a developer than to raw performance or storage size are probably justified.</p>
<p>Obviously jMonkeyEngine’s own <code>.j3o</code> format is something I can parse – because I have the native jMonkeyEngine libraries to do it – but it’s not something I can inspect or hand edit, so I’m unwilling at this stage to use it. As I understand it, it’s a file of serialised Java objects, which, if so, would make it relatively efficient to load.</p>
<h2><a href="#xml-formats" id="xml-formats"></a>XML formats</h2>
<p>XML formats are easy to parse; they’re also reasonably easy to edit both as text files and as structured files. So my preference is to use them as a starting point for search. The obvious XML formats are</p>
<ol>
<li><a href="https://en.wikipedia.org/wiki/3DXML">3DXML</a>, a proprietary format owned by Dassault Systèmes;</li>
<li><a href="https://www.khronos.org/collada/">Collada</a>, an open format apparently seen primarily as an unlossy interchange format between 3d applications;</li>
<li><a href="https://www.web3d.org/x3d/what-x3d/">X3D</a>, an open format seen as the successor to (and much more prolix than) VRML;</li>
<li>Ogre 3D, a format designed for the <a href="https://www.ogre3d.org/">Ogre 3D game engine</a> and now widely used in the jMonkeyEngine community, but for which I can find no user-oriented documentation.</li>
</ol>
<h2><a href="#json-based-formats" id="json-based-formats"></a>JSON-based formats</h2>
<p>JSON is also easy to parse and to edit; the <a href="https://www.khronos.org/gltf/">glTF 2.0</a> standard, in its JSON/ASCII representation, is such a format.</p>
<h2><a href="#other-text-formats" id="other-text-formats"></a>Other text formats</h2>
<p><a href="https://en.wikipedia.org/wiki/VRML">VRML</a> isn’t either XML or JSON, but it looks reasonably easy to parse.</p>
<h2><a href="#features" id="features"></a>Features</h2>
<table>
<thead>
<tr><th> Name                                         </th><th> XML     </th><th> JSON    </th><th> Blender                                                      </th><th> MakeHuman </th><th> jME3                                                         </th><th> Notes                                                        </th></tr>
</thead>
<tbody>
<tr><td> <a href="https://en.wikipedia.org/wiki/3DXML">3DXML</a> </td><td> ✓ </td><td>         </td><td> <a href="https://blenderartists.org/t/3dxml-importer/469975/2">Unsupported</a> </td><td> No        </td><td> No                                                           </td><td> Proprietary; apparently, engineering oriented                </td></tr>
<tr><td> <a href="https://www.khronos.org/collada/">Collada</a>  </td><td> ✓ </td><td>         </td><td> Built in importer/exporter                                   </td><td> Exporter  </td><td> <a href="https://hub.jmonkeyengine.org/t/collada-io/46406">No</a>       </td><td> Prolix, but sort-of interpretable and manageable.            </td></tr>
<tr><td> <a href="https://www.web3d.org/x3d/what-x3d/">X3D</a>   </td><td> ✓ </td><td>         </td><td> Built in importer/exporter                                   </td><td> No        </td><td> No                                                           </td><td>                                                              </td></tr>
<tr><td> <a href="https://www.ogre3d.org/">Ogre 3D</a>           </td><td> ✓ </td><td>         </td><td> <a href="https://github.com/OGRECave/blender2ogre">Unsupported</a>      </td><td> Exporter  </td><td> <a href="https://javadoc.jmonkeyengine.org/v3.6.1-stable/com/jme3/scene/plugins/ogre/package-summary.html">built in importer</a> </td><td>                                                              </td></tr>
<tr><td> <a href="https://www.khronos.org/gltf/">glTF 2.0</a>    </td><td>         </td><td> ✓ </td><td> Built in importer/exporter                                   </td><td> No        </td><td> <a href="https://javadoc.jmonkeyengine.org/v3.6.1-stable/com/jme3/scene/plugins/gltf/package-summary.html">built in importer</a> </td><td> On inspection, the glTF 2.0 files generated by Blender are thoroughly inscrutable. Although they are technically text files, they’re essentially very thin wrappers around ascii-coded binary blobs. This doesn’t look usable to me. </td></tr>
<tr><td> <a href="https://en.wikipedia.org/wiki/VRML">VRML</a>   </td><td>         </td><td>         </td><td> Apparently accepted by the X3D importer; no exporter         </td><td> No        </td><td> No                                                           </td><td> I couldn’t make import of a sample file into Blender work. The import completed with no errors, but no objects appeared in the scene. </td></tr>
</tbody>
</table>
<h2><a href="#discussion" id="discussion"></a>Discussion</h2>
<p>I did not investigate 3DXML, because I’m not going to sign up to even a free licence from an armaments company.</p>
<p>Of the rest: I’m pretty disappointed.</p>
<h3><a href="#gltf" id="gltf"></a>glTF</h3>
<p><strong>glTF</strong> might as well be a binary format; it’s unusable for my purposes.</p>
<h3><a href="#x3d" id="x3d"></a>X3D</h3>
<p><strong>X3D</strong> export of the simple cube from Blender results in a file which is readable, but which does not have explicit vertices or edges. Instead it has an attribute whose value is a string representation of a sequence of 24 numbers:</p>
<pre><code class="language-xml">&lt;Coordinate DEF="coords_ME_Cube"
			point="1.000000 1.000000 1.000000 1.000000 1.000000 -1.000000 1.000000 -1.000000 1.000000 1.000000 -1.000000 -1.000000 -1.000000 1.000000 1.000000 -1.000000 1.000000 -1.000000 -1.000000 -1.000000 1.000000 -1.000000 -1.000000 -1.000000 "/&gt;
</code></pre>
<p>I’m confidently assuming that that sequence is expected to be read as a set of six triples, each triple representing a vertex with <code>x, y, z</code> coordinates; but it’s not at all clear to me how edges and faces are encoded.</p>
<p>Furthermore, when you reimport an X3D file exported by Blender back into Blender you get nothing visible (and no error message). This is exactly the same as what you get when you import a VRML file, which does not raise confidence.</p>
<h3><a href="#collada" id="collada"></a>Collada</h3>
<p><strong>Collada</strong> is a little better in that it explicitly says how many numbers are in the array, and does not present them as an attribute but as data; additionally, it has information on how to decode that data into tuples:</p>
<pre><code class="language-xml">        &lt;source id="Cube-mesh-positions"&gt;
          &lt;float_array id="Cube-mesh-positions-array" count="24"&gt;1 1 1 1 1 -1 1 -1 1 1 -1 -1 -1 1 1 -1 1 -1 -1 -1 1 -1 -1 -1&lt;/float_array&gt;
          &lt;technique_common&gt;
            &lt;accessor source="#Cube-mesh-positions-array" count="8" stride="3"&gt;
              &lt;param name="X" type="float"/&gt;
              &lt;param name="Y" type="float"/&gt;
              &lt;param name="Z" type="float"/&gt;
            &lt;/accessor&gt;
          &lt;/technique_common&gt;
        &lt;/source&gt;

</code></pre>
<p>and the <strong>vertices</strong> are declared as being the points in this array:</p>
<pre><code class="language-xml">        &lt;vertices id="Cube-mesh-vertices"&gt;
          &lt;input semantic="POSITION" source="#Cube-mesh-positions"/&gt;
        &lt;/vertices&gt;

</code></pre>
<p>but again there’s nothing obvious to indicate which vertices are joined by <strong>edges</strong>. There is an array of six normals, which presumably imply the faces of the cube, but that’s a little sketchy. There are also <strong>triangles</strong>, declared as follows:</p>
<pre><code class="language-xml">        &lt;triangles material="Material-material" count="12"&gt;
          &lt;input semantic="VERTEX" source="#Cube-mesh-vertices" offset="0"/&gt;
          &lt;input semantic="NORMAL" source="#Cube-mesh-normals" offset="1"/&gt;
          &lt;input semantic="TEXCOORD" source="#Cube-mesh-map-0" offset="2" set="0"/&gt;
          &lt;p&gt;4 0 0 2 0 1 0 0 2 2 1 3 7 1 4 3 1 5 6 2 6 5 2 7 7 2 8 1 3 9 7 3 10 5 3 11 0 4 12 3 4 13 1 4 14 4 5 15 1 5 16 5 5 17 4 0 18 6 0 19 2 0 20 2 1 21 6 1 22 7 1 23 6 2 24 4 2 25 5 2 26 1 3 27 3 3 28 7 3 29 0 4 30 2 4 31 3 4 32 4 5 33 0 5 34 1 5 35&lt;/p&gt;
        &lt;/triangles&gt;
</code></pre>
<p>H’mmm… Twelve triangles makes sense for six square faces, but there are 108 numbers in that <code>&lt;p&gt;</code> element, which is eighteen numbers per triangle; and since the highest number is 35, they’re not indices into either the <code>Cube-mesh-vertices</code> (8) or the <code>Cube-mesh-normals</code> (6) arrays, so that implies they are indices into <code>Cube-mesh-map-0</code>, which <em>does</em> have 36 entries…</p>
<pre><code class="language-xml">        &lt;source id="Cube-mesh-map-0"&gt;
          &lt;float_array id="Cube-mesh-map-0-array" count="72"&gt;0.875 0.5 0.625 0.75 0.625 0.5 0.625 0.75 0.375 1 0.375 0.75 0.625 0 0.375 0.25 0.375 0 0.375 0.5 0.125 0.75 0.125 0.5 0.625 0.5 0.375 0.75 0.375 0.5 0.625 0.25 0.375 0.5 0.375 0.25 0.875 0.5 0.875 0.75 0.625 0.75 0.625 0.75 0.625 1 0.375 1 0.625 0 0.625 0.25 0.375 0.25 0.375 0.5 0.375 0.75 0.125 0.75 0.625 0.5 0.625 0.75 0.375 0.75 0.625 0.25 0.625 0.5 0.375 0.5&lt;/float_array&gt;
          &lt;technique_common&gt;
            &lt;accessor source="#Cube-mesh-map-0-array" count="36" stride="2"&gt;
              &lt;param name="S" type="float"/&gt;
              &lt;param name="T" type="float"/&gt;
            &lt;/accessor&gt;
          &lt;/technique_common&gt;
        &lt;/source&gt;
</code></pre>
<p>which is six entries per face. Which sort of makes sense. But the numbers make no obvious sense to me. There are nine distinct values:</p>
<pre><code class="language-clojure">user=&gt; (def s (set [0.875 0.5 0.625 0.75 0.625 0.5 0.625 0.75 0.375 1 0.375 0.75 0.625 0 0.375 0.25 0.375 0 0.375 0.5 0.125 0.75 0.125 0.5 0.625 0.5 0.375 0.75 0.375 0.5 0.625 0.25 0.375 0.5 0.375 0.25 0.875 0.5 0.875 0.75 0.625 0.75 0.625 0.75 0.625 1 0.375 1 0.625 0 0.625 0.25 0.375 0.25 0.375 0.5 0.375 0.75 0.125 0.75 0.625 0.5 0.625 0.75 0.375 0.75 0.625 0.25 0.625 0.5 0.375 0.5]))
#'user/s
user=&gt; s
#{0 0.125 0.25 0.5 0.625 0.375 0.75 0.875 1}
user=&gt; (sort s)
(0 0.125 0.25 0.375 0.5 0.625 0.75 0.875 1)
</code></pre>
<p>But there’s no obvious pattern to how frequently these values occur:</p>
<pre><code class="language-clojure">user=&gt; (map (fn [i] (count (filter (fn [j] (= i j)) all-values))) s)
(3 3 6 12 15 15 12 3 3)
</code></pre>
<p>So… it’s not obvious to me how I extract a piece of solid geometry, namely a cube with sides of length 2, centred on the origin, from this data. I know it can be done, because when Blender reimports the file it not only renders a cube but recognises it as a cube; but it isn’t trivial.</p>
<h3><a href="#ogre-3d" id="ogre-3d"></a>Ogre 3D</h3>
<p><strong>Ogre 3D</strong> is a lot clearer. Here is (part of) its attempt at saving the cube:</p>
<pre><code class="language-xml">&lt;mesh&gt;
    &lt;sharedgeometry vertexcount="24"&gt;
        &lt;vertexbuffer colours_diffuse="False" normals="true" positions="true" tangent_dimensions="0" tangents="False" texture_coords="1"&gt;
            &lt;vertex&gt;
                &lt;position x="1.000000" y="1.000000" z="-1.000000"/&gt;
                &lt;normal x="0.000000" y="1.000000" z="-0.000000"/&gt;
                &lt;texcoord u="0.625000" v="0.500000"/&gt;
            &lt;/vertex&gt;
            &lt;vertex&gt;
                &lt;position x="-1.000000" y="1.000000" z="1.000000"/&gt;
                &lt;normal x="0.000000" y="1.000000" z="-0.000000"/&gt;
                &lt;texcoord u="0.875000" v="0.250000"/&gt;
            &lt;/vertex&gt;
			...
        &lt;/vertexbuffer&gt;
    &lt;/sharedgeometry&gt;
    &lt;submeshes&gt;
        &lt;submesh material="Material" operationtype="triangle_list" use32bitindexes="False" usesharedvertices="true"&gt;
            &lt;faces count="12"&gt;
                &lt;face v1="0" v2="1" v3="2"/&gt;
                &lt;face v1="3" v2="4" v3="5"/&gt;
                ...
            &lt;/faces&gt;
        &lt;/submesh&gt;
    &lt;/submeshes&gt;
    &lt;submeshnames&gt;
        &lt;submesh index="0" name="Material"/&gt;
    &lt;/submeshnames&gt;
&lt;/mesh&gt;
</code></pre>
<p>Nothing in this explicitly says it’s a cube. But where we have two triangles with a common edge and a common normal, we know they form part of the same face; and, given that each of the distinct normals are either at right angles to, or in opposition to, each of the others, the boxiness is easily inferred. Finally, given all the edges are of the same length, we have a cube.</p>
<p>Although the <a href="https://github.com/OGRECave/blender2ogre">Ogre import/export add on</a> is not supported by Blender, an exported cube can be successfully reimported into Blender. However, although Blender can export the meshes of a model to Ogre format successfully, it fails to export the skeleton. However the MakeHuman Ogre exporter does successfully export the skeleton.</p>
<p>The only documentation for Ogre 3D XML that I can find is <a href="https://github.com/OGRECave/ogre/tree/master/Tools/XMLConverter/docs">two DTDs here</a>, but, in fact, that is what I most need.</p>
<h2><a href="#summary" id="summary"></a>Summary</h2>
<p>Generally, this is disappointing. I may need to rethink my approach. But, although I was initially prejudiced against Ogre 3D because of its relative obscurity and lack of user-oriented documentation, it is probably the best of the bunch.</p>
</div></div></div></body></html>